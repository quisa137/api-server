<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="users">
	<select id="userInfoByEmail" parameterType="map" resultType="map">
		select USERNO, username, email, PASSWORD from `api-server`.users where email = #{email}
	</select>

	<select id="userInfoByPassword" parameterType="map" resultType="map">
		select USERID, username, email, PASSWORD from `api-server`.users where userno = #{userNo} and password = #{password}
	</select>
  
    <insert id="userCreate" parameterType="com.jindata.apiserver.service.dto.User" flushCache="true" statementType="PREPARED">
        insert into `api-server`.users (username,password,email) 
        values (#{username,javaType=String,jdbcType=VARCHAR},password(#{password,javaType=String,jdbcType=VARCHAR}),#{email,javaType=String,jdbcType=VARCHAR})
    </insert>
    
    <update id=""></update>
</mapper>
<!-- 
USERNO INT GENERATED BY DEFAULT AS IDENTITY 
          (START WITH 1, INCREMENT BY 1) NOT NULL,
    USERID VARCHAR(45) NOT NULL,
	USERNAME VARCHAR(45) NOT NULL,
	PASSWORD VARCHAR(45) NOT NULL,
 -->